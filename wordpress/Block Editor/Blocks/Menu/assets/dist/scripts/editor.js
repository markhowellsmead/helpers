(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.i18n,n=window.wp.blocks,l=window.wp.blockEditor,a=window.wp.components,o=window.wp.data,r=window.React,s=window.wp.primitives,c=(0,r.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(s.Path,{d:"M5 5v1.5h14V5H5zm0 7.8h14v-1.5H5v1.5zM5 19h14v-1.5H5V19z"})),i=window.wp.apiFetch;var _=e.n(i);const m={entries:!1},p={},u={setState:(e,t)=>({type:"GET_ENTRIES",item:e,entries:t}),fetchFromAPI:e=>({type:"FETCH_FROM_API",path:e})},h=(0,o.createReduxStore)("sht/menu-positions",{reducer:(e=m,t=p)=>"GET_ENTRIES"===t.type?{...e,entries:t.entries}:e,actions:u,selectors:{getEntries(e,t){const{entries:n}=e;return n}},controls:{FETCH_FROM_API:e=>_()({path:e.path})},resolvers:{*getEntries(e){const t=yield u.fetchFromAPI("/sht/menu-positions/");return u.setState(e,t)}}});(0,o.register)(h);const{name:d}={name:"sht/menu"},w=(0,n.getBlockDefaultClassName)(d);(0,n.registerBlockType)(d,{icon:c,edit:({attributes:e,setAttributes:n})=>{const{menu:r,mode:s}=e,c=(0,o.useSelect)((e=>e("sht/menu-positions").getEntries())),i=[],_=[];c&&c.map((e=>{i.push({label:e.title,value:e.id}),_[e.id]=e.title}));const m=[{label:(0,t.__)("All entries","shp_hotel_aare_mu"),value:"all"},{label:(0,t.__)("Only top level","shp_hotel_aare_mu"),value:"top-level"},{label:(0,t.__)("Only submenus","shp_hotel_aare_mu"),value:"sub-level"}],p=(0,l.useBlockProps)();return[React.createElement(React.Fragment,null,React.createElement(l.InspectorControls,null,React.createElement(a.PanelBody,{title:(0,t.__)("Block options","shp_hotel_aare_mu"),initialOpen:!0},!c&&React.createElement(a.Spinner,null),!!c&&React.createElement(a.SelectControl,{label:(0,t.__)("Select predefined menu","shp_hotel_aare_mu"),value:r,onChange:e=>n({menu:e}),options:i}),!!c&&React.createElement(a.SelectControl,{label:(0,t.__)("Mode","shp_hotel_aare_mu"),value:s,onChange:e=>n({mode:e}),options:m}))),React.createElement("div",p,React.createElement("div",{className:`${w}__editorplaceholder`},!!_[r]&&React.createElement("div",{dangerouslySetInnerHTML:{__html:(0,t.__)("Menu «%s»","shp_hotel_aare_mu").replace("%s",_[r])}}),!_[r]&&React.createElement("div",{dangerouslySetInnerHTML:{__html:(0,t.__)("No menu selected","shp_hotel_aare_mu")}}))))]}})})();